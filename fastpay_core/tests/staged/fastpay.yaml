---
AccountId:
  NEWTYPESTRUCT:
    SEQ:
      TYPENAME: SequenceNumber
AccountInfoQuery:
  STRUCT:
    - account_id:
        TYPENAME: AccountId
    - query_sequence_number:
        OPTION:
          TYPENAME: SequenceNumber
    - query_received_certificates_excluding_first_nth:
        OPTION: U64
AccountInfoResponse:
  STRUCT:
    - account_id:
        TYPENAME: AccountId
    - owner:
        OPTION:
          TYPENAME: PublicKeyBytes
    - balance:
        TYPENAME: Balance
    - next_sequence_number:
        TYPENAME: SequenceNumber
    - pending:
        OPTION:
          TYPENAME: Vote
    - count_received_certificates: U64
    - queried_certificate:
        OPTION:
          TYPENAME: Certificate
    - queried_received_certificates:
        SEQ:
          TYPENAME: Certificate
Address:
  ENUM:
    0:
      Primary:
        NEWTYPE:
          TYPENAME: PublicKeyBytes
    1:
      FastPay:
        NEWTYPE:
          TYPENAME: AccountId
Amount:
  NEWTYPESTRUCT: U64
Asset:
  ENUM:
    0:
      TransparentCoin:
        NEWTYPE:
          TYPENAME: Certificate
    1:
      OpaqueCoin:
        NEWTYPE:
          TYPENAME: OpaqueCoin
Balance:
  NEWTYPESTRUCT: I128
Certificate:
  STRUCT:
    - value:
        TYPENAME: Value
    - signatures:
        SEQ:
          TUPLE:
            - TYPENAME: PublicKeyBytes
            - TYPENAME: Signature
Coin:
  TUPLESTRUCT:
    - TYPENAME: G1
    - TYPENAME: G1
CoinCreationDescription:
  STRUCT:
    - sources:
        SEQ:
          TYPENAME: CoinCreationSource
    - targets:
        SEQ:
          TYPENAME: TransparentCoin
    - coconut_request:
        OPTION:
          TYPENAME: CoinsRequest
CoinCreationOrder:
  STRUCT:
    - description:
        TYPENAME: CoinCreationDescription
    - locks:
        SEQ:
          TYPENAME: Certificate
CoinCreationSource:
  STRUCT:
    - account_id:
        TYPENAME: AccountId
    - account_balance:
        TYPENAME: Amount
    - transparent_coins:
        SEQ:
          TYPENAME: Certificate
    - opaque_coin_public_seeds:
        SEQ: U128
CoinsRequest:
  STRUCT:
    - sigmas:
        SEQ:
          TYPENAME: Coin
    - kappas:
        SEQ:
          TYPENAME: G2
    - cms:
        SEQ:
          TYPENAME: G1
    - cs:
        SEQ:
          TUPLEARRAY:
            CONTENT:
              TYPENAME: G1
            SIZE: 3
    - input_commitments:
        SEQ:
          TYPENAME: G1
    - output_commitments:
        SEQ:
          TYPENAME: G1
    - proof:
        TYPENAME: RequestCoinsProof
    - range_proof:
        TYPENAME: RangeProof
ConfirmationOrder:
  STRUCT:
    - certificate:
        TYPENAME: Certificate
CrossShardRequest:
  ENUM:
    0:
      UpdateRecipient:
        STRUCT:
          - certificate:
              TYPENAME: Certificate
    1:
      DestroyAccount:
        STRUCT:
          - account_id:
              TYPENAME: AccountId
FastPayError:
  ENUM:
    0:
      InactiveAccount:
        NEWTYPE:
          TYPENAME: AccountId
    1:
      InvalidOwner: UNIT
    2:
      UnexpectedSequenceNumber: UNIT
    3:
      InvalidSequenceNumber: UNIT
    4:
      PreviousRequestMustBeConfirmedFirst:
        STRUCT:
          - pending:
              TYPENAME: Value
    5:
      MissingEarlierConfirmations:
        STRUCT:
          - current_sequence_number:
              TYPENAME: SequenceNumber
    6:
      UnexpectedTransactionIndex: UNIT
    7:
      SequenceOverflow: UNIT
    8:
      SequenceUnderflow: UNIT
    9:
      AmountOverflow: UNIT
    10:
      AmountUnderflow: UNIT
    11:
      BalanceOverflow: UNIT
    12:
      BalanceUnderflow: UNIT
    13:
      InvalidSignature:
        STRUCT:
          - error: STR
          - type_name: STR
    14:
      UnknownSigner: UNIT
    15:
      CertificateRequiresQuorum: UNIT
    16:
      CertificateAuthorityReuse: UNIT
    17:
      IncorrectTransferAmount: UNIT
    18:
      InsufficientFunding:
        STRUCT:
          - current_balance:
              TYPENAME: Balance
    19:
      InvalidNewAccountId:
        NEWTYPE:
          TYPENAME: AccountId
    20:
      InvalidCoin: UNIT
    21:
      InvalidAsset: UNIT
    22:
      CertificateNotFound: UNIT
    23:
      InvalidCrossShardRequest: UNIT
    24:
      InvalidRequestOrder: UNIT
    25:
      InvalidConfirmationOrder: UNIT
    26:
      InvalidCoinCreationOrder: UNIT
    27:
      ClientErrorWhileProcessingRequestOrder: UNIT
    28:
      ClientErrorWhileProcessingCoinCreationOrder: UNIT
    29:
      ClientErrorWhileRequestingCertificate: UNIT
    30:
      WrongShard: UNIT
    31:
      InvalidDecoding: UNIT
    32:
      UnexpectedMessage: UNIT
    33:
      ClientIoError:
        STRUCT:
          - error: STR
G1:
  TUPLESTRUCT:
    - U8
    - U8
    - U8
    - U8
    - U8
    - U8
    - U8
    - U8
    - U8
    - U8
    - U8
    - U8
    - U8
    - U8
    - U8
    - U8
    - U8
    - U8
    - U8
    - U8
    - U8
    - U8
    - U8
    - U8
    - U8
    - U8
    - U8
    - U8
    - U8
    - U8
    - U8
    - U8
    - U8
    - U8
    - U8
    - U8
    - U8
    - U8
    - U8
    - U8
    - U8
    - U8
    - U8
    - U8
    - U8
    - U8
    - U8
    - U8
G2:
  TUPLESTRUCT:
    - U8
    - U8
    - U8
    - U8
    - U8
    - U8
    - U8
    - U8
    - U8
    - U8
    - U8
    - U8
    - U8
    - U8
    - U8
    - U8
    - U8
    - U8
    - U8
    - U8
    - U8
    - U8
    - U8
    - U8
    - U8
    - U8
    - U8
    - U8
    - U8
    - U8
    - U8
    - U8
    - U8
    - U8
    - U8
    - U8
    - U8
    - U8
    - U8
    - U8
    - U8
    - U8
    - U8
    - U8
    - U8
    - U8
    - U8
    - U8
    - U8
    - U8
    - U8
    - U8
    - U8
    - U8
    - U8
    - U8
    - U8
    - U8
    - U8
    - U8
    - U8
    - U8
    - U8
    - U8
    - U8
    - U8
    - U8
    - U8
    - U8
    - U8
    - U8
    - U8
    - U8
    - U8
    - U8
    - U8
    - U8
    - U8
    - U8
    - U8
    - U8
    - U8
    - U8
    - U8
    - U8
    - U8
    - U8
    - U8
    - U8
    - U8
    - U8
    - U8
    - U8
    - U8
    - U8
    - U8
HashValue:
  NEWTYPESTRUCT:
    TUPLEARRAY:
      CONTENT: U8
      SIZE: 64
InputAttribute:
  STRUCT:
    - seed:
        TYPENAME: Scalar
    - value:
        TYPENAME: Scalar
    - id:
        TYPENAME: Scalar
OpaqueCoin:
  STRUCT:
    - id:
        TYPENAME: AccountId
    - public_seed: U128
    - private_seed: U128
    - value:
        TYPENAME: Amount
    - coin:
        TYPENAME: Coin
Operation:
  ENUM:
    0:
      Transfer:
        STRUCT:
          - recipient:
              TYPENAME: Address
          - amount:
              TYPENAME: Amount
          - user_data:
              TYPENAME: UserData
    1:
      OpenAccount:
        STRUCT:
          - new_id:
              TYPENAME: AccountId
          - new_owner:
              TYPENAME: PublicKeyBytes
    2:
      CloseAccount: UNIT
    3:
      ChangeOwner:
        STRUCT:
          - new_owner:
              TYPENAME: PublicKeyBytes
    4:
      Spend:
        STRUCT:
          - account_balance:
              TYPENAME: Amount
          - description_hash:
              TYPENAME: HashValue
    5:
      SpendAndTransfer:
        STRUCT:
          - recipient:
              TYPENAME: Address
          - amount:
              TYPENAME: Amount
          - user_data:
              TYPENAME: UserData
OutputAttribute:
  STRUCT:
    - seed:
        TYPENAME: Scalar
    - seed_blinding_factor:
        TYPENAME: Scalar
    - value:
        TYPENAME: Scalar
    - value_blinding_factor:
        TYPENAME: Scalar
    - id:
        TYPENAME: Scalar
    - id_blinding_factor:
        TYPENAME: Scalar
PublicKeyBytes:
  NEWTYPESTRUCT:
    TUPLEARRAY:
      CONTENT: U8
      SIZE: 32
Randomness:
  STRUCT:
    - rs:
        SEQ:
          TYPENAME: Scalar
    - os:
        SEQ:
          TYPENAME: Scalar
    - input_rs:
        SEQ:
          TYPENAME: Scalar
    - output_rs:
        SEQ:
          TYPENAME: Scalar
RangeProof:
  NEWTYPESTRUCT:
    SEQ: U8
Request:
  STRUCT:
    - account_id:
        TYPENAME: AccountId
    - operation:
        TYPENAME: Operation
    - sequence_number:
        TYPENAME: SequenceNumber
RequestCoinsProof:
  STRUCT:
    - challenge:
        TYPENAME: Scalar
    - input_attributes_responses:
        SEQ:
          TYPENAME: InputAttribute
    - output_attributes_responses:
        SEQ:
          TYPENAME: OutputAttribute
    - randomness_responses:
        TYPENAME: Randomness
    - zero_sum_response:
        TYPENAME: Scalar
RequestOrder:
  STRUCT:
    - value:
        TYPENAME: RequestValue
    - owner:
        TYPENAME: PublicKeyBytes
    - signature:
        TYPENAME: Signature
    - assets:
        SEQ:
          TYPENAME: Asset
RequestValue:
  STRUCT:
    - request:
        TYPENAME: Request
    - limited_to:
        OPTION:
          TYPENAME: PublicKeyBytes
Scalar:
  TUPLESTRUCT:
    - U8
    - U8
    - U8
    - U8
    - U8
    - U8
    - U8
    - U8
    - U8
    - U8
    - U8
    - U8
    - U8
    - U8
    - U8
    - U8
    - U8
    - U8
    - U8
    - U8
    - U8
    - U8
    - U8
    - U8
    - U8
    - U8
    - U8
    - U8
    - U8
    - U8
    - U8
    - U8
SequenceNumber:
  NEWTYPESTRUCT: U64
SerializedMessage:
  ENUM:
    0:
      RequestOrder:
        NEWTYPE:
          TYPENAME: RequestOrder
    1:
      ConfirmationOrder:
        NEWTYPE:
          TYPENAME: ConfirmationOrder
    2:
      CoinCreationOrder:
        NEWTYPE:
          TYPENAME: CoinCreationOrder
    3:
      InfoQuery:
        NEWTYPE:
          TYPENAME: AccountInfoQuery
    4:
      Vote:
        NEWTYPE:
          TYPENAME: Vote
    5:
      Votes:
        NEWTYPE:
          SEQ:
            TYPENAME: Vote
    6:
      InfoResponse:
        NEWTYPE:
          TYPENAME: AccountInfoResponse
    7:
      Error:
        NEWTYPE:
          TYPENAME: FastPayError
    8:
      CrossShardRequest:
        NEWTYPE:
          TYPENAME: CrossShardRequest
Signature:
  NEWTYPESTRUCT:
    TUPLEARRAY:
      CONTENT: U8
      SIZE: 64
TransparentCoin:
  STRUCT:
    - account_id:
        TYPENAME: AccountId
    - amount:
        TYPENAME: Amount
    - seed: U128
UserData:
  NEWTYPESTRUCT:
    OPTION:
      TUPLEARRAY:
        CONTENT: U8
        SIZE: 32
Value:
  ENUM:
    0:
      Lock:
        NEWTYPE:
          TYPENAME: Request
    1:
      Confirm:
        NEWTYPE:
          TYPENAME: Request
    2:
      Coin:
        NEWTYPE:
          TYPENAME: TransparentCoin
Vote:
  STRUCT:
    - value:
        TYPENAME: Value
    - authority:
        TYPENAME: PublicKeyBytes
    - signature:
        TYPENAME: Signature

